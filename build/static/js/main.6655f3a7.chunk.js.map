{"version":3,"sources":["services/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Person","person","deleteButton","name","number","onClick","Persons","persons","map","Message","message","error","style","color","className","Adder","newName","newNumber","setPersons","setNewName","setNewNumber","setMessage","setError","onSubmit","event","preventDefault","some","window","confirm","existingPerson","find","n","newPerson","personService","returnedPerson","setTimeout","catch","filter","concat","value","onChange","console","log","target","type","Search","setNewSearch","App","useState","search","numbersToShow","length","toLowerCase","startsWith","useEffect","personsAtStart","toBeDeleted","success","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6655f3a7.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => true)\r\n}\r\n\r\nconst updateNumber = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deletePerson,\r\n    updateNumber\r\n}","import React, { useState, useEffect } from 'react'\nimport personService from './services/Persons'\nimport \"./App.css\"\n\nconst Person = ({person, deleteButton }) => {\n  return (\n    <li> {person.name} {person.number}\n        <button onClick={deleteButton}>Delete</button>\n  </li>\n  )\n}\n\nconst Persons = ({ persons, deleteButton }) => {\n\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map(person => <Person key={person.id} person={person} deleteButton={() => deleteButton(person.id)}/>)}\n      </ul>\n    </div>\n  )\n}\n\nconst Message = ({ message, error }) => {\n  if (error) {\n    const style = {\n      color: 'red'\n    }\n    return (\n      <div style={style} className=\"message\">{message}</div>\n    )\n  } else {\n    return (\n      <div className=\"message\">{message}</div>\n    )\n  }\n}\n\nconst Adder = ({persons, newName, newNumber, setPersons, setNewName, setNewNumber, setMessage, setError }) => {\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const existingPerson = persons.find(n => n.name === newName)\n        const newPerson = {...existingPerson, number: newNumber}\n        personService.updateNumber(newPerson.id, newPerson).then(returnedPerson => {\n          setError(false)\n          setPersons(persons.map(person => person.id !== newPerson.id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`${newName} succesfully edited`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        }).catch(error => {\n          setError(true)\n          setNewName('')\n          setNewNumber('')\n          setPersons(persons.filter(n => n.name !== newName))\n          setMessage(`Information on ${newName} has already been removed from the server`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n      }\n    } else {\n      const person = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(person)\n        .then(newPerson => {\n          setError(false)\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`${newName} succesfully added`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n\t\t.catch(error => {\n          setError(true)\n          setNewName('')\n          setNewNumber('')\n          setMessage(error.response.data)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n\t\t\t\n\t\t})\n    }\n  }\n\n  const handleNewName = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Add a new number</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name:\n          <input\n            value={newName}\n            onChange={handleNewName}\n          />\n        </div>\n        <div>number:\n          <input\n            value={newNumber}\n            onChange={handleNewNumber}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Search = ({ value, setNewSearch }) => {\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <form>\n      <div>\n        filter shown with:\n        <input value={value} onChange={handleSearchChange}/>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(false) \n\n  const numbersToShow = search.length > 0 ? persons.filter(person => person.name.toLowerCase().startsWith(search.toLowerCase())) : persons\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(personsAtStart => {\n        setPersons(personsAtStart)\n      })\n  }, [])\n\n  const deleteButton = (id) => {\n    const toBeDeleted = persons.find(n => n.id === id)\n    if (window.confirm(`Do you really want to delete ${toBeDeleted.name}?`)) {\n      personService.deletePerson(id).then(success => {\n        setError(false)\n        setNewSearch('')\n        setPersons(persons.filter(n => n.id !== id))\n        setMessage(`${toBeDeleted.name} succesfully deleted`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }).catch(error => {\n        setError(true)\n        setPersons(persons.filter(n => n.id !== id))\n        setNewName('')\n        setNewNumber('')\n        setMessage(`Information on ${toBeDeleted.name} has already been removed from the server`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  if (message !== null) {\n    return (\n      <div>\n        <h2>Phonebook</h2>\n        <Message message={message} error={error}/>\n        <Search value={search} setNewSearch={setNewSearch}/>\n        <Adder persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} setNewName={setNewName} \n          setNewNumber={setNewNumber} setMessage={setMessage} setError={setError}/>\n        <div>\n          <Persons persons={numbersToShow} deleteButton={deleteButton}/>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <h2>Phonebook</h2>\n        <Search value={search} setNewSearch={setNewSearch}/>\n        <Adder persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} setNewName={setNewName}\n          setNewNumber={setNewNumber} setMessage={setMessage} setError={setError}/>\n        <div>\n          <Persons persons={numbersToShow} deleteButton={deleteButton}/>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}